{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock title %}
{% block homeActive %}active{% endblock homeActive %}

{% block content %}


<div class="container-fluid my-0" style="background-image: url('{% static "images/backdrop-forum2.png" %}');background-size: cover; background-color:#f1c6c8;">
  <div class="py-1"></div>
  <nav class="navbar mt-5 bg-body-tertiary" style="background-color: transparent;">
    <div class="container-fluid" style="background-color: transparent;">
      <div class="m-2">
        <a class="navbar-brand">Posts</a>
        <a class="btn btn-primary" href="/newpost" ><i class="fa fa-plus"></i> New</a>
      </div>
      <form class="d-flex m-2" role="search">
        <input class="form-control me-2" id="forumsearch" type="search" placeholder="Search for posts.." aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
  </nav>
  
  {% for post in posts %}
    <div class="card my-2" style="background-color:#f8f8f5; color:#151515;">
      <div class="card-body">
      <a class="link-body-emphasis" href="{% url 'viewpost' post.pk %}"><h5 class="card-title p-2 m-2">{{ post.title }}</h5></a>
      <p class="card-text p-2 m-2 text-wrap text-truncate" style="max-height: 3rem;">{{ post.body }}</p>
        <div class="d-flex p-2 m-2 justify-content-start align-items-center">
        <div class="badge align-self-middle text-wrap text-start me-auto text-secondary">By @{{ post.user }} <img src="{{ post.user.profile.picture }}" class="rounded-circle" height="15" width="15"></div>
          <div class="badge align-self-end text-wrap text-end ms-auto text-secondary">Created on {{ post.created_at }}</div>
        </div>

      </div>
    </div>
  {% endfor %}
  <div class="py-1"></div>
</div>

{% endblock content %}
